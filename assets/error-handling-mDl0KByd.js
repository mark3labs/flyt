import{u as e,j as s}from"./index-BTGeMI1m.js";const a={title:"Error Handling & Retries",description:"undefined"};function i(l){const r={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...e(),...l.components};return s.jsxs(s.Fragment,{children:[s.jsx(r.header,{children:s.jsxs(r.h1,{id:"error-handling--retries",children:["Error Handling & Retries",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#error-handling--retries",children:s.jsx(r.div,{"data-autolink-icon":!0})})]})}),`
`,s.jsx(r.p,{children:"Build resilient workflows with proper error handling and retry strategies."}),`
`,s.jsxs(r.h2,{id:"basic-retry-configuration",children:["Basic Retry Configuration",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#basic-retry-configuration",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Configure retries at the node level:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"node "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" flyt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"NewNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    flyt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"WithExecFunc"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // This will be retried up to 3 times"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" callFlakeyAPI"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }),"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    flyt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"WithMaxRetries"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"3"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    flyt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"WithWait"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(time.Second), "}),s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Wait 1 second between retries"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    flyt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"WithExecFallbackFunc"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"err"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Called after all retries fail"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        log."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Printf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"API failed after retries: '}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%v"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"}),s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // Return nil to handle in Post"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }),"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})})]})})}),`
`,s.jsxs(r.h2,{id:"exponential-backoff",children:["Exponential Backoff",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#exponential-backoff",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Implement exponential backoff with RetryableNode:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"type"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" BackoffNode"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    *"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"flyt"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BaseNode"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    attempt "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"int"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BackoffNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"GetMaxRetries"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"int"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 5"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BackoffNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"GetWait"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"time"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Duration"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Exponential backoff: 1s, 2s, 4s, 8s, 16s"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Duration"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(math."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Pow"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"2"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"float64"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(n.attempt))) "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time.Second"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BackoffNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Exec"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    n.attempt"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"++"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    result, err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" callAPI"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        log."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Printf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"Attempt '}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%d"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" failed: "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%v"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", n.attempt, err)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    n.attempt "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"}),s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // Reset on success"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"circuit-breaker-pattern",children:["Circuit Breaker Pattern",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#circuit-breaker-pattern",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Prevent cascading failures:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"type"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" CircuitBreakerNode"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    *"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"flyt"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BaseNode"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    failures    "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"int"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    lastFailure "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"time"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Time"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    threshold   "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"int"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    timeout     "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"time"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Duration"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" NewCircuitBreakerNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"CircuitBreakerNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"CircuitBreakerNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        BaseNode:  flyt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"NewBaseNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(),"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        threshold: "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"5"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        timeout:   "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"30"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" *"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time.Second,"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"CircuitBreakerNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Exec"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Check if circuit is open"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.failures "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.threshold {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Since"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(n.lastFailure) "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"<"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.timeout {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", fmt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Errorf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"circuit breaker open"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Reset after timeout"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        n.failures "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    result, err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" callService"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        n.failures"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"++"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        n.lastFailure "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Now"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    n.failures "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"}),s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // Reset on success"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"fallback-on-failure",children:["Fallback on Failure",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#fallback-on-failure",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Implement the FallbackNode interface for graceful degradation:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"type"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" CachedAPINode"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    *"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"flyt"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BaseNode"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    cache "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"sync"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Map"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"CachedAPINode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Exec"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    key "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" prepResult.("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"string"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Try to fetch fresh data"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    data, err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" fetchFromAPI"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(key)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"=="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Cache successful result"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        n.cache."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Store"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(key, data)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" data, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"CachedAPINode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"ExecFallback"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"err"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    key "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" prepResult.("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"string"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Return cached data on failure"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" cached, ok "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.cache."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Load"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(key); ok {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        log."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Printf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"Returning cached data for '}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%s"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" due to error: "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%v"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", key, err)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" cached, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Return default if no cache"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" map"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"["}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"string"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"]"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'        "status"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:": "}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"unavailable"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'        "cached"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:": "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"false"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"error-aggregation",children:["Error Aggregation",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#error-aggregation",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Collect errors from batch operations:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" processBatch"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"items"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" []"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Item"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    var"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" errs []"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    for"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" i, item "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" range"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" items {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" processItem"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(item); err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            errs "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" append"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(errs, fmt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Errorf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"item '}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%d"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:": "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%w"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", i, err))"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" len"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(errs) "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:">"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"flyt"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"BatchError"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Errors: errs,"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Message: fmt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Sprintf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%d"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"/"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%d"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' items failed"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"len"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(errs), "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"len"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(items)),"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"retry-with-jitter",children:["Retry with Jitter",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#retry-with-jitter",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Add randomization to prevent thundering herd:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"JitterNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"GetWait"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"time"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Duration"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    base "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time.Second "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Duration"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(n.attempt)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    jitter "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Duration"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(rand."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Intn"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"1000"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")) "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" time.Millisecond"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" base "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"+"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" jitter"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"selective-retry",children:["Selective Retry",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#selective-retry",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Only retry specific errors:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"SelectiveRetryNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Exec"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    result, err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" callAPI"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Only retry on network errors"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" isNetworkError"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(err) {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err "}),s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Will be retried"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // Don't retry business logic errors"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", fmt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Errorf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"permanent error: '}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%w"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err)"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"SelectiveRetryNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"GetMaxRetries"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"int"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Check error type from last execution"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.lastError "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" &&"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" !"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"isRetryable"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(n.lastError) {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 0"}),s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // Don't retry"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" 3"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"error-context",children:["Error Context",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#error-context",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Provide context for debugging:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"type"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" ErrorContext"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" struct"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    Node      "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"string"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    Action    "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"string"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    Input     "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    Error     "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    Timestamp "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"time"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Time"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    Attempts  "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"int"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})}),`
`,s.jsx(r.span,{className:"line","data-empty-line":!0,children:" "}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"DetailedErrorNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Post"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"shared"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" *"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"flyt"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"SharedStore"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"execResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"flyt"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Action"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err, ok "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" execResult.("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"); ok "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"&&"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        errorCtx "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" ErrorContext"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Node:      "}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"DetailedErrorNode"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Action:    "}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"process"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:","})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Input:     prepResult,"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Error:     err,"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Timestamp: time."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Now"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(),"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            Attempts:  n.attempts,"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        shared."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Set"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"last_error"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", errorCtx)"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.attempts "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"<"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" n.maxRetries {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"            return"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "retry"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "error"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" flyt.DefaultAction, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"timeout-handling",children:["Timeout Handling",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#timeout-handling",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(r.p,{children:"Prevent hanging operations:"}),`
`,s.jsx(s.Fragment,{children:s.jsx(r.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(r.code,{children:[s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"n "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"TimeoutNode"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Exec"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"ctx"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"Context"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"prepResult"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") ("}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"    // Create timeout context"})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    ctx, cancel "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" context."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"WithTimeout"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(ctx, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"30"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"*"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"time.Second)"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    defer"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" cancel"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    resultChan "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" make"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"chan"}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" any"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    errChan "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" make"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"chan"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" error"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    go"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" func"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        result, err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" longRunningOperation"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"()"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        if"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            errChan "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"<-"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        } "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"else"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"            resultChan "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"<-"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }()"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    "})}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    select"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    case"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" <-"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"resultChan:"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" result, "}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"nil"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    case"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" err "}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":="}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" <-"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"errChan:"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", err"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    case"}),s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" <-"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"ctx."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Done"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"():"})]}),`
`,s.jsxs(r.span,{className:"line",children:[s.jsx(r.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"        return"}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" nil"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", fmt."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Errorf"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"operation timed out: '}),s.jsx(r.span,{style:{color:"#005CC5","--shiki-dark":"#F47067"},children:"%w"}),s.jsx(r.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"'}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", ctx."}),s.jsx(r.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"Err"}),s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"())"})]}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,s.jsx(r.span,{className:"line",children:s.jsx(r.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,s.jsxs(r.h2,{id:"best-practices",children:["Best Practices",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#best-practices",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(r.ol,{children:[`
`,s.jsxs(r.li,{children:[s.jsx(r.strong,{children:"Identify Transient vs Permanent Errors"}),": Only retry transient failures"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.strong,{children:"Set Reasonable Limits"}),": Don't retry indefinitely"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.strong,{children:"Use Backoff"}),": Avoid overwhelming failing services"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.strong,{children:"Log Failures"}),": Track retry attempts for debugging"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.strong,{children:"Provide Fallbacks"}),": Gracefully degrade when possible"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.strong,{children:"Monitor Retry Rates"}),": High retry rates indicate problems"]}),`
`]}),`
`,s.jsxs(r.h2,{id:"next-steps",children:["Next Steps",s.jsx(r.a,{"aria-hidden":"true",tabIndex:"-1",href:"#next-steps",children:s.jsx(r.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(r.ul,{children:[`
`,s.jsxs(r.li,{children:[s.jsx(r.a,{href:"/patterns/fallback",children:"Fallback on Failure"})," - Graceful degradation"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.a,{href:"/advanced/batch-processing#batch-error-handling",children:"Batch Error Handling"})," - Handle batch failures"]}),`
`,s.jsxs(r.li,{children:[s.jsx(r.a,{href:"/best-practices",children:"Best Practices"})," - General guidelines"]}),`
`]})]})}function c(l={}){const{wrapper:r}={...e(),...l.components};return r?s.jsx(r,{...l,children:s.jsx(i,{...l})}):i(l)}export{c as default,a as frontmatter};
